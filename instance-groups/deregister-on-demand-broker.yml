---
name: deregister-on-demand-broker
resource_label: Deregister on-demand broker
single_az_only: true
errand: true

static_ip: 0
dynamic_ip: 1
max_in_flight: 1

instance_definition:
  name: instances
  type: integer
  default: 1

templates:
- $(job "deregister-broker")

resource_definitions:
- name: ram
  type: integer
  configurable: false
  default: 1_024
  constraints:
    min: 1_024

- name: ephemeral_disk
  type: integer
  configurable: false
  default: 2_048
  constraints:
    min: 1_024

- name: persistent_disk
  type: integer
  configurable: false
  default: 0

- name: cpu
  type: integer
  configurable: false
  default: 1
  constraints:
    min: 1

property_blueprints:
- name: vm_credentials
  type: salted_credentials
  default:
    identity: vcap

